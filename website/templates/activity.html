{% extends "base.html" %}
{% block title %}Activity{% endblock %}

{% block content %}
<div align="center" style="margin-top: 50px;">
    <h1>Activity Page üèã</h1>
    <p>Here you can see your activities!</p>

     <br>

     <!-- Add Activity Button -->
    <a href="{{ url_for('views.add_activity_page') }}">
        <button class="btn btn-primary">Add Activity</button>
    </a>

    <!-- Table for activities -->
    <table border="1" cellpadding="10" cellspacing="0">
        <thead>
        <tr>
            <th>Name</th>
            <th>Email</th> 
            <th>Phone Number</th>
            <th>Activity Type</th>
            <th>Upcoming Activities</th>
        </thead>
        <tbody>
          {% for user in users %}
          <tr>
              <td>{{ user.first_name }}</td>
              <td>{{ user.email }}</td> 
              <td>{{ user.phone_number }}</td>
              <td>
                {% if user.activity_types %}
                    <ul style="list-style-type: none; padding: 0; margin: 0;">
                        {% for activity in user.activity_types.split(',') %}
                            <li>‚úÖ {{ activity }}</li>
                        {% endfor %}
                    </ul>
                {% else %}
                    No activities yet
                {% endif %}
            </td>
              <td>Coming soon...</td>
          </tr>
          {% endfor %}
        </tbody>
    </table>

<!-- Add Activity Form -->
<form method="POST" action="{{ url_for('views.add_activity_page') }}">
    {{ form.hidden_tag() }}
    <div class="form-group">
        {{ form.activity_type.label }}
        {{ form.activity_type(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.date.label }}
        {{ form.date(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.time.label }}
        {{ form.time(class="form-control") }}
    </div>
    <div class="form-group">
        {{ form.location.label }}
        {{ form.location(class="form-control") }}
    </div>
    <br>
    {{ form.submit(class="btn btn-primary") }}
</form>

<hr>

<!-- Show Activities -->
<h2>All Activities</h2>
<ul class="list-group">
    {% for act in activities %}
    <li class="list-group-item">
        <strong>{{ act.activity_type }}</strong>  
        on {{ act.date }} at {{ act.time }}  
        ({{ act.location }})  
        ‚Äî posted by {{ act.owner.email }}
    </li>
    {% endfor %}
    </ul>
</div>
{% endblock %}
